# Organisations Schema (`organisations` Collection)

This document defines the structure of the `organisations` collection in Firestore. This collection stores information about *client organisations* (companies, businesses, etc.) within the Jezweb Hub.

## Collection: `organisations`

Each document in the `organisations` collection represents a single client organisation.

## Document Structure (Interface):

```typescript
interface Organisation {
  organisationId: string;       // Unique identifier (auto-generated by Firestore)
  organisationName: string;     // Name of the organisation
  organisationType?: string;     // Optional: Type of organisation (e.g., "Company", "Non-profit", "Government")
  status: string;         // Organisation status ("active", "inactive", "lead", "prospect")
  primaryContactId?: string;  // Optional:  Reference to the 'contactId' in the 'contacts' collection
  billingAddress?: {         // Optional: Billing address
    street: string;
    suburb: string;
    state: string;
    postcode: string;
    country: string;
  };
  shippingAddress?: {        // Optional: Shipping address (if different from billing)
    street: string;
    suburb: string;
    state: string;
    postcode: string;
    country: string;
  };
  industry?: string;          // Optional: Industry (e.g., "Technology", "Healthcare")
  website?: string;          // Optional: Link to the organisation's website
  notes?: string;          // Optional: General notes about the organisation
  assignedTo?: string;     // Optional: Reference to the 'userId' in the 'users' collection (account manager)
  createdAt: firebase.firestore.Timestamp;
  updatedAt: firebase.firestore.Timestamp;
  customFields?: {          // Optional: For any other organisation-specific data
    [fieldName: string]: any; // Key-value pairs
  };
}
```


**Relationships:**

*   **`organisations` ↔️ `users`:** (via `assignedTo`) - Links organisations to the responsible team member.
*   **`organisations` ↔️ `contacts`:** (via `primaryContactId`) - Links organisations to their primary contact person (stored in the `contacts` collection).
*   **`organisations` ↔️ `websites`:** (via a `organisationId` field in the `websites` collection - we'll need to update the `websites-schema.md` accordingly) - Links organisations to the websites you manage for them.
*   **`organisations` ↔️ `supportTickets`:** (via a `organisationId` field in the `supportTickets` collection)
*   **`organisations` ↔️ `projects`:** (via a `organisationId` field in the `projects` collection)
*   **`organisations` ↔️ `pluginLicenses`:** (via a `organisationId` field - optional)

**Example JSON Record:**

```json
{
  "organisationId": "org123",
  "organisationName": "Acme Pty Ltd",
  "organisationType": "Company",
  "status": "active",
  "primaryContactId": "contact001",
  "billingAddress": {
    "street": "123 Main Street",
    "suburb": "Sydney",
    "state": "NSW",
    "postcode": "2000",
    "country": "Australia"
  },
  "industry": "Technology",
  "website": "https://www.acme.com",
  "notes": "Key client.  Long-term contract.",
  "assignedTo": "user003sales",
  "createdAt": "2024-03-12T21:00:00Z",
  "updatedAt": "2024-03-12T21:00:00Z",
  "customFields": {
    "contractValue": 120000
  }
}
```
