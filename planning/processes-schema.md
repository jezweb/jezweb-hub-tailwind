# Processes Schema (`processes` Collection) - Standard Operating Procedures (SOPs)

This document defines the structure of the `processes` collection in Firestore.  This collection stores Standard Operating Procedures (SOPs) for Jezweb.

## Collection: `processes`

Each document in the `processes` collection represents a single SOP.

## Document Structure (Interface):

```typescript
interface Process {
  processId: string;         // Unique identifier (auto-generated by Firestore)
  title: string;           // Title of the SOP
  slug: string;            // URL-friendly slug
  content: string;           // SOP content (Markdown format)
    contentHTML: string;
  category?: string;        // Optional: Category the SOP belongs to
  tags?: string[];         // Optional: Tags for categorization
  author?: string;         // Optional: User ID of the author (from 'users' collection)
  createdAt: firebase.firestore.Timestamp;
  updatedAt: firebase.firestore.Timestamp;
  publishedAt?: firebase.firestore.Timestamp; // Optional: When the SOP was published
  isPublished: boolean;     // Whether the SOP is published or in draft mode
  version?: number;        // Optional: SOP version number
  previousVersion?: string;  // Optional: Link to previous version (processId)
    attachments?: { // Optional
        filename?: string;
        url?: string;
          version?: number;
    }[];
}
```

**Key Fields and Considerations:**

*   **`processId`:** Auto-generated unique ID.
*   **`title`:** The title of the SOP.
*   **`slug`:** URL-friendly slug.
*   **`content`:** The SOP content, stored in *Markdown* format.  You'll likely want to enforce a consistent structure for SOPs (e.g., Purpose, Scope, Prerequisites, Procedure, Troubleshooting).
*   **`category`:** (Optional) For organizing SOPs into categories.
*   **`tags`:** (Optional)
*   **`author`:** (Optional) Links to the `users` collection.
*   **`createdAt` & `updatedAt`:** Timestamps.
*   **`publishedAt`:** (Optional)
*   **`isPublished`:** Boolean flag for draft/published status.
*   **`version` & `previousVersion`:** (Optional)

**Relationships:**

*   **`processes` ↔️ `users`:** (via `author` - optional)
*   **`processes` ↔️ categories:** (optional - if you create a separate categories collection)

**Example JSON Record:**

```json
{
  "processId": "process001",
  "title": "Creating a New Website Project",
  "slug": "creating-a-new-website-project",
  "content": "# Creating a New Website Project\n\n## Purpose\n\nThis SOP outlines the steps for...",
  "contentHTML": "<h1>Creating a New Website Project</h1><h2>Purpose</h2><p>This SOP outlines the steps for...</p>",
    "category": "Projects",
  "tags": ["website", "project", "sop"],
  "author": "user001admin",
  "createdAt": "2024-03-13T10:00:00Z",
  "updatedAt": "2024-03-13T10:30:00Z",
  "publishedAt": "2024-03-13T10:30:00Z",
  "isPublished": true,
    "attachments": []
}
```